 const isMovieInPlaylist = data && data.movie.some(movie => movie.id === data.imdbID);

        if (isMovieInPlaylist) {
            alert("Movie is already in the playlist.");
        } else {
            // Add the movie to the playlist if it's not already there
            const list = {
                title: data.Title,
                year: data.Year,
                id: data.imdbID,
                poster: data.Poster
            };

            const data1 = {
                id: localStorage.getItem("userid"),
                paly: list
            };

            try {
                await axios.post("http://localhost:5050/playlist", data1);
                console.log("Movie added to playlist");
            } catch (error) {
                console.log("Error adding movie to playlist:", error);
            }
        }
    }

    // ... rest of your component ...

    return (
        <div>
            {/* ... your other JSX ... */}
            <div className="grid-container">
                {data && data.map((ele) => (
                    <div className="list" key={ele.imdbID}>
                        <div className="image">
                            <img alt="poster" src={ele.Poster} className="im" style={{ maxWidth: '40%', height: 200 }} />
                            <div className="data">
                                {/* ... other movie details ... */}
                                <div>
                                    <button className="t" value="Add To Playlist" title="Click To Make your Favourite" onClick={() => handlePlaylist(ele)}>Add</button>
                                </div>
                            </div>
                        </div>
                    </div>
                ))}
            </div>
        </div>
    );
}

export default Movies;
In this modified code, before adding the movie to the playlist, the handlePlaylist function checks if the movie is already in the playlist using the isMovieInPlaylist variable. If the movie is already in the playlist, an alert is shown with the appropriate message. If the movie is not in the playlist, the normal process of adding the movie to the playlist continues.





